<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Portfolio</title>
    <style>
        body { 
            margin: 0;
            overflow: hidden;
            background-color: #000;
            color: white;
            font-family: 'Arial', sans-serif;
        }
        #canvas-container {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        #info {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
            z-index: 100;
            background: rgba(0,0,0,0.5);
            padding: 10px;
            font-size: 18px;
        }
        #loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            color: #4fc3f7;
            z-index: 100;
            text-align: center;
        }
        .planet-info {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 10, 20, 0.9);
            padding: 30px;
            border-radius: 15px;
            border: 2px solid #4fc3f7;
            max-width: 600px;
            width: 80%;
            display: none;
            z-index: 100;
            box-shadow: 0 0 20px rgba(79, 195, 247, 0.5);
        }
        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            cursor: pointer;
            color: #4fc3f7;
            font-size: 24px;
            font-weight: bold;
        }
        .planet-title {
            color: #4fc3f7;
            margin-top: 0;
            font-size: 28px;
        }
        .project-list {
            list-style-type: none;
            padding: 0;
        }
        .project-list li {
            margin: 10px 0;
            padding: 10px;
            background: rgba(79, 195, 247, 0.1);
            border-left: 3px solid #4fc3f7;
        }
        .project-list a {
            color: #4fc3f7;
            text-decoration: none;
        }
        .project-list a:hover {
            text-decoration: underline;
        }
        .planet-label {
            position: absolute;
            color: white;
            font-size: 14px;
            background: rgba(0,0,0,0.7);
            padding: 2px 6px;
            border-radius: 3px;
            pointer-events: none;
            transform: translateY(-50%);
            white-space: nowrap;
        }
    </style>
</head>
<body>
    <div id="canvas-container"></div>
    <div id="loading">
        <h2>Initializing Space Engine...</h2>
        <div style="width: 300px; height: 10px; background: #333; margin: 20px auto;">
            <div id="progress" style="height: 100%; width: 0%; background: #4fc3f7;"></div>
        </div>
    </div>
    <div id="info">Click on planets to explore my portfolio</div>
    
    <!-- Portfolio Section Panels -->
    <div id="about" class="planet-info">
        <span class="close-btn" onclick="hideInfo('about')">✕</span>
        <h2 class="planet-title">About Me</h2>
        <p>Welcome to my cosmic portfolio! I'm a creative developer with expertise in:</p>
        <ul class="project-list">
            <li>Frontend Development</li>
            <li>3D Web Experiences</li>
            <li>UI/UX Design</li>
            <li>Interactive Media</li>
        </ul>
    </div>
    
    <div id="projects" class="planet-info">
        <span class="close-btn" onclick="hideInfo('projects')">✕</span>
        <h2 class="planet-title">Featured Projects</h2>
        <ul class="project-list">
            <li><a href="#">Galaxy Explorer - Interactive 3D Visualization</a></li>
            <li><a href="#">Cosmic Dashboard - Data Visualization Platform</a></li>
            <li><a href="#">Stellar Portfolio - VR Exhibition</a></li>
            <li><a href="#">Nebula UI Kit - Design System</a></li>
        </ul>
    </div>

    <div id="skills" class="planet-info">
        <span class="close-btn" onclick="hideInfo('skills')">✕</span>
        <h2 class="planet-title">Technical Skills</h2>
        <ul class="project-list">
            <li>Three.js, Babylon.js, WebGL</li>
            <li>React, Vue, Angular</li>
            <li>Blender, Maya, Cinema4D</li>
            <li>Node.js, Python, C#</li>
        </ul>
    </div>

    <div id="experience" class="planet-info">
        <span class="close-btn" onclick="hideInfo('experience')">✕</span>
        <h2 class="planet-title">Professional Experience</h2>
        <ul class="project-list">
            <li>Senior Developer @ SpaceTech (2020-Present)</li>
            <li>3D Artist @ DigitalCosmos (2018-2020)</li>
            <li>UI Designer @ WebOrbit (2016-2018)</li>
        </ul>
    </div>

    <div id="contact" class="planet-info">
        <span class="close-btn" onclick="hideInfo('contact')">✕</span>
        <h2 class="planet-title">Contact Me</h2>
        <ul class="project-list">
            <li>Email: contact@cosmicportfolio.com</li>
            <li>LinkedIn: linkedin.com/in/cosmicdev</li>
            <li>GitHub: github.com/cosmicdev</li>
            <li>Twitter: @cosmic_dev</li>
        </ul>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/loaders/TextureLoader.js"></script>
    <script>
        // Main variables
        let scene, camera, renderer, solarSystem, raycaster, mouse;
        let planets = [];
        let sunLight;
        let labels = [];
        
        // Planet textures (using NASA images)
        const textureUrls = {
            mercury: 'https://solarsystem.nasa.gov/system/resources/detail_files/644_PIA15162_800.jpg',
            venus: 'https://solarsystem.nasa.gov/system/resources/detail_files/610_PIA00104_800.jpg',
            earth: 'https://solarsystem.nasa.gov/system/resources/detail_files/786_global_earth_1_800.jpg',
            mars: 'https://solarsystem.nasa.gov/system/resources/detail_files/645_mars_globe_1_800.jpg',
            jupiter: 'https://solarsystem.nasa.gov/system/resources/detail_files/2486_stsci-h-p1936a_1800.jpg',
            saturn: 'https://solarsystem.nasa.gov/system/resources/detail_files/2490_stsci-h-p1943a-f_1200.jpg',
            uranus: 'https://solarsystem.nasa.gov/system/resources/detail_files/598_PIA18182_800.jpg',
            neptune: 'https://solarsystem.nasa.gov/system/resources/detail_files/611_PIA01492_800.jpg'
        };

        // Initialize the scene
        function init() {
            // Create scene
            scene = new THREE.Scene();
            
            // Create camera
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 50;
            
            // Create renderer with better antialiasing
            renderer = new THREE.WebGLRenderer({ 
                antialias: true,
                alpha: true
            });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true;
            document.getElementById('canvas-container').appendChild(renderer.domElement);
            
            // Add lighting
            addLighting();
            
            // Add controls
            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.minDistance = 30;
            controls.maxDistance = 150;
            
            // Raycaster for planet interaction
            raycaster = new THREE.Raycaster();
            mouse = new THREE.Vector2();
            
            // Create stars
            createStars();
            
            // Create solar system
            createSolarSystem();
            
            // Simulate loading progress
            simulateLoading();
            
            // Event listeners
            window.addEventListener('resize', onWindowResize);
            window.addEventListener('click', onMouseClick);
            window.addEventListener('mousemove', onMouseMove);
            
            // Start animation loop
            animate();
        }
        
        // Add lighting to the scene
        function addLighting() {
            // Sun light (main directional light)
            sunLight = new THREE.PointLight(0xffee88, 1, 100, 2);
            sunLight.position.set(0, 0, 0);
            sunLight.castShadow = true;
            scene.add(sunLight);
            
            // Ambient light to soften shadows
            const ambientLight = new THREE.AmbientLight(0x333333);
            scene.add(ambientLight);
            
            // Hemisphere light for natural illumination
            const hemisphereLight = new THREE.HemisphereLight(0x4488ff, 0xff8844, 0.2);
            scene.add(hemisphereLight);
        }
        
        // Create starfield background
        function createStars() {
            const starsGeometry = new THREE.BufferGeometry();
            const starsMaterial = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 0.2,
                transparent: true,
                opacity: 0.8,
                sizeAttenuation: true
            });
            
            const starsVertices = [];
            for (let i = 0; i < 5000; i++) {
                const x = (Math.random() - 0.5) * 2000;
                const y = (Math.random() - 0.5) * 2000;
                const z = (Math.random() - 0.5) * 2000;
                starsVertices.push(x, y, z);
            }
            
            starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));
            const starField = new THREE.Points(starsGeometry, starsMaterial);
            scene.add(starField);
        }
        
        // Create solar system with textured planets
        function createSolarSystem() {
            solarSystem = new THREE.Group();
            scene.add(solarSystem);
            
            // Sun (with glow effect)
            const sunGeometry = new THREE.SphereGeometry(5, 64, 64);
            const sunMaterial = new THREE.MeshBasicMaterial({
                color: 0xffdd55,
                emissive: 0xffaa00,
                emissiveIntensity: 1
            });
            const sun = new THREE.Mesh(sunGeometry, sunMaterial);
            solarSystem.add(sun);
            
            // Portfolio sections mapped to planets
            const planetData = [
                { 
                    name: "about", 
                    section: "About Me",
                    size: 1.5, 
                    texture: textureUrls.mercury,
                    distance: 15, 
                    speed: 0.02,
                    color: 0xcccccc
                },
                { 
                    name: "projects", 
                    section: "Projects",
                    size: 2, 
                    texture: textureUrls.venus,
                    distance: 20, 
                    speed: 0.015,
                    color: 0xffcc99
                },
                { 
                    name: "skills", 
                    section: "Skills",
                    size: 2.5, 
                    texture: textureUrls.earth,
                    distance: 25, 
                    speed: 0.01,
                    color: 0x4477ff
                },
                { 
                    name: "experience", 
                    section: "Experience",
                    size: 2, 
                    texture: textureUrls.mars,
                    distance: 30, 
                    speed: 0.008,
                    color: 0xff6633
                },
                { 
                    name: "contact", 
                    section: "Contact",
                    size: 3, 
                    texture: textureUrls.neptune,
                    distance: 40, 
                    speed: 0.005,
                    color: 0x3366ff
                }
            ];
            
            // Create orbit paths first
            planetData.forEach((data, i) => {
                createOrbit(data.distance);
            });
            
            // Load textures and create planets
            const textureLoader = new THREE.TextureLoader();
            planetData.forEach((data, i) => {
                textureLoader.load(data.texture, (texture) => {
                    const geometry = new THREE.SphereGeometry(data.size, 64, 64);
                    const material = new THREE.MeshPhongMaterial({ 
                        map: texture,
                        specular: 0x111111,
                        shininess: 30,
                        emissive: data.color,
                        emissiveIntensity: 0.1
                    });
                    const planet = new THREE.Mesh(geometry, material);
                    planet.castShadow = true;
                    planet.receiveShadow = true;
                    
                    // Position planet in orbit
                    const angle = (i / planetData.length) * Math.PI * 2;
                    planet.position.x = Math.cos(angle) * data.distance;
                    planet.position.z = Math.sin(angle) * data.distance;
                    
                    planet.userData = { 
                        name: data.name, 
                        section: data.section,
                        speed: data.speed, 
                        angle: angle, 
                        distance: data.distance,
                        originalColor: data.color
                    };
                    
                    // Add hover effect
                    planet.onHover = function() {
                        this.material.emissiveIntensity = 0.5;
                    };
                    
                    planet.onUnhover = function() {
                        this.material.emissiveIntensity = 0.1;
                    };
                    
                    planets.push(planet);
                    solarSystem.add(planet);
                    
                    // Create label for planet
                    createLabel(planet, data.section);
                });
            });
        }
        
        // Create orbit path
        function createOrbit(radius) {
            const orbitGeometry = new THREE.BufferGeometry();
            const points = [];
            const segments = 64;
            
            for (let i = 0; i <= segments; i++) {
                const theta = (i / segments) * Math.PI * 2;
                points.push(
                    new THREE.Vector3(
                        Math.cos(theta) * radius,
                        0,
                        Math.sin(theta) * radius
                    )
                );
            }
            
            orbitGeometry.setFromPoints(points);
            const orbitMaterial = new THREE.LineBasicMaterial({ 
                color: 0x444444,
                transparent: true,
                opacity: 0.3
            });
            const orbit = new THREE.Line(orbitGeometry, orbitMaterial);
            orbit.rotation.x = Math.PI / 2;
            solarSystem.add(orbit);
        }
        
        // Create label for planet
        function createLabel(planet, text) {
            const label = document.createElement('div');
            label.className = 'planet-label';
            label.textContent = text;
            document.body.appendChild(label);
            labels.push({ planet, label });
        }
        
        // Update label positions
        function updateLabels() {
            labels.forEach(item => {
                const planetPosition = item.planet.position.clone();
                planetPosition.project(camera);
                
                const x = (planetPosition.x * 0.5 + 0.5) * window.innerWidth;
                const y = (- (planetPosition.y * 0.5 + 0.5)) * window.innerHeight;
                
                item.label.style.transform = `translate(${x}px, ${y}px)`;
                item.label.style.zIndex = (-planetPosition.z * 0.5 + 0.5) * 100000 | 0;
                
                // Hide labels if planet is behind the sun
                const distanceToSun = planetPosition.length();
                item.label.style.display = distanceToSun > 0.1 ? 'block' : 'none';
            });
        }
        
        // Simulate loading progress
        function simulateLoading() {
            let progress = 0;
            const progressBar = document.getElementById('progress');
            const loadingInterval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(loadingInterval);
                    setTimeout(() => {
                        document.getElementById('loading').style.opacity = '0';
                        setTimeout(() => {
                            document.getElementById('loading').style.display = 'none';
                        }, 500);
                    }, 500);
                }
                progressBar.style.width = progress + '%';
            }, 100);
        }
        
        // Handle window resize
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }
        
        // Handle mouse movement for hover effects
        function onMouseMove(event) {
            // Calculate mouse position in normalized device coordinates
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;
            
            // Update the raycaster
            raycaster.setFromCamera(mouse, camera);
            
            // Calculate objects intersecting the ray
            const intersects = raycaster.intersectObjects(planets);
            
            // Reset all planets to unhovered state
            planets.forEach(planet => {
                if (planet.onUnhover) planet.onUnhover();
            });
            
            // Highlight hovered planet
            if (intersects.length > 0) {
                const planet = intersects[0].object;
                if (planet.onHover) planet.onHover();
                document.body.style.cursor = 'pointer';
            } else {
                document.body.style.cursor = 'auto';
            }
        }
        
        // Handle mouse clicks
        function onMouseClick(event) {
            // Calculate mouse position in normalized device coordinates
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;
            
            // Update the raycaster
            raycaster.setFromCamera(mouse, camera);
            
            // Calculate objects intersecting the ray
            const intersects = raycaster.intersectObjects(planets);
            
            if (intersects.length > 0) {
                const planet = intersects[0].object;
                showInfo(planet.userData.name);
                
                // Pulse effect when clicked
                planet.material.emissiveIntensity = 1;
                setTimeout(() => {
                    planet.material.emissiveIntensity = 0.1;
                }, 300);
            }
        }
        
        // Show planet info panel
        function showInfo(planetName) {
            document.getElementById(planetName).style.display = 'block';
        }
        
        // Hide planet info panel
        function hideInfo(planetName) {
            document.getElementById(planetName).style.display = 'none';
        }
        
        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            
            // Rotate planets
            planets.forEach(planet => {
                planet.userData.angle += planet.userData.speed;
                planet.position.x = Math.cos(planet.userData.angle) * planet.userData.distance;
                planet.position.z = Math.sin(planet.userData.angle) * planet.userData.distance;
                
                // Add subtle rotation to planets
                planet.rotation.y += 0.005;
            });
            
            // Rotate solar system
            solarSystem.rotation.y += 0.001;
            
            // Pulsing sun effect
            const time = Date.now() * 0.001;
            sunLight.intensity = 0.8 + Math.sin(time * 2) * 0.2;
            
            // Update labels
            updateLabels();
            
            renderer.render(scene, camera);
        }
        
        // Start the app
        init();
    </script>
</body>
</html>
